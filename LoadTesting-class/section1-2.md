### ✅ 주의점

1. 부하 테스트 환경 독립적으로 분리
    
    부하 테스트 툴(k6)는 테스트하고자 하는 시스템(BE, DB)과 반드시 독립적으로 분리해서 구성해야 함 왜냐하면 부하 테스트 툴 자체도 트래픽을 만들어내면서 컴퓨팅 리소스(CPU, 메모리 등)를 사용하기 때문이다.
    
2. 부하 테스트 툴을 개인 컴퓨터에 설치하지 않기
    
    개인이 가지고 있는 컴퓨터는 Win or Mac. 컴퓨터 자체적으로 부하를 발생시킬 때 제한이 걸릴 때가 종종 있다. 따라서 EC2 인스턴스를 생성해 우분투 환경에서 부하 테스트를 진행하는 것이 좋다.
    

### ✅ 부하 테스트 할 인프라 구성

<aside>
📖

부하 테스트를 진행하기 전에 인프라의 전체 구성을 그림으로 그려놓으면, 전체적인 트래픽의 흐름을 한 눈에 파악할 수 있어서 편리하다.

</aside>

### ✅ k6를 활용해 부하 테스트 진행

1. 백엔드 서버에 부하를 주기 위해 k6 스크립트 작성
    
    > 구성한 시스템이 1초당 몇 개의 요청을 견딜 수 있는 지 알아보려면, 점진적으로 트래픽을 늘려가게끔 부하 테스트를 세팅해야 함
    > 

### ✅ 부하 테스트할 때 중점적으로 봐야할 사항

![스크린샷 2025-03-09 오전 10.44.30.png](/images/1-1.png)

일전에 학습했던 throughput, latency에 대해서 중점적으로 살펴보면 된다.

일단 throughput부터 보면, vus (virtual users)가 늘어나고 있지만 http_reqs(throughput)은 늘어나지 않고 그대로 유지되는 것을 볼 수 있다.

→ 이 서버의 최대 throughput 지점 3,700쯤

![스크린샷 2025-03-09 오전 10.47.28.png](/images/1-2.png)

다음은 latency인데, latency에 대한 기준은 서비스별로 다르기 때문에 자체적인 기준을 세워야 한다.

ex. 사용자가 서버가 렉 걸렸다고 판단하는 latency가 100ms(1초)라면 해당 스펙에 맞게 서버를 구성해야 한다. 

→ 이 서버는 평균적으로 370ms의 latency를 가지고 있다.

![스크린샷 2025-03-09 오전 10.49.03.png](/images/1-3.png)

다음은 request failed인데, 여기서는 발생하지 않고 있다.
