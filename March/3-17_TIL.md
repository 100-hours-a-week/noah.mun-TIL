# AWS Control Tower

# 데브옵스

---

### 전통적인 소프트웨어 개발 구성

![스크린샷 2025-03-17 오전 10.03.42.png](images/3-17_1.png)

- 개발팀과 운영팀에 갈등 발생 가능

### 데브옵스의 등장

![스크린샷 2025-03-17 오전 10.09.36.png](images/3-17_2.png)

- 개발과 운영을 한 팀에서 전담

### 데브옵스 + 클라우드

![스크린샷 2025-03-17 오전 10.13.40.png](images/3-17_3.png)

- IDE에서 개발 + 운영팀에서 클라우드 관리
- CI/CD가 필요

## 데브옵스

---

<aside>
📖

조직의 문화와 개발하려는 소프트웨어의 유형에 따라 달라질 수 있어서 공통의 정의가 존재 ❌

</aside>

원칙

1. 모든 팀 멤버는 모든 업무에 대한 책임을 가짐
2. 자동화될 수 있는 모든 것은 자동화해야 함
    - 테스트, 릴리즈, 배포, 환경설정
3. 데브옵스 프로세스 변경 전에 근거가 될 지표를 측정해야 함

### 장점

- 조직의 기술력, 문화, 개발하려는 소프트웨어 특성에 따라 달라지긴 하나 공통적인 장점이 존재
    - 빠른 개발 사이클 확보 가능
        - 업무 관련자들의 커뮤니케이션에 의한 지연 감소
    - 빠른 문제 해결
        - 전원이 동일한 팀 내 → 이슈에 대한 책임자 특정 시간 감소
- 소프트웨어 결함 발생에 대한 리스크 감소

### 단점

- 모든 업무 상황에서 습관적으로 지정된 원칙에 따르지 않으면 데브옵스가 제대로 동작하기 어려움 (중소..?)

## 데브옵스와 코드 관리 시스템

---

- 데브옵스의 원칙 → 자동화 가능한 모든 것의 자동화
- 코드 관리 시스템과 자동화는 불가분의 관계

# 코드형 인프라

---

<aside>
📖

OS의 설정과 설치될 라이브러리 등 소프트웨어 실행에 필요한 모든 환경을 포함

</aside>

- 온프레미스 환경에서의 코드형 인프라 개념
    - 설치되어야 할 소프트웨어와 설정값을 정의
    - 다양한 유형의 서버에 맞는 설정을 서로 다르게 적용
- 코드형 인프라와 데브옵스
    - 설정 파일이 유실되면 각 서버의 상태를 일일히 확인해야 함
    - 코드 저장소에서 관리 대상으로 지정
    - 모든 운영을 코드로 관리

### 코드형 인프라 도구

- 관리 대상이 되는 인프라의 유형과 목적에 따라 유형이 달라짐
- 유형의 경계를 명확하게 구분하기는 사실상 어려움
- 큰 범주에서 구분이 된다는 의미

1. Ad-hoc Script
    - OS에서 실행 가능한 스크립트 작성으로 자동화
    - 단순히 수동 작업을 절차에 따라 스크립트로 변환
    - 복잡한 문법 사용 시 타인은 이해가 어려움
    - 적은 규모의 단순반복 및 단발성 작업에 유용
    - SSH 등을 추가로 활용해야 분산 환경 적용 가능
2. Configuration Management Tools
    - 지정된 서버에 소프트웨어 설치 및 관리 역할
    - Ansible, Chef, Puppet, Saltstack 등이 대표적
    - 특징
        - 멱등성
            - 코드를 반복해서 실행해도 항상 결과가 동일
            - 중복 실행으로 인한 문제 우려가 없음
        - 코딩 규칙
            - 지정된 규칙에 따라 작성해야 함
            - 타인이 이해하기 편해야 함
        - 분산환경 자체 지원
            - 서버 목록을 지정하면 코드 동시 수행 가능
3. Server Template Tools
    - 서버의 상태를 템플릿화 하여 가상의 환경을 구축하는데 사용
    - Docker, Packer, Vagrant 등이 대표적
    - 툴에 따라 수행 가능한 작업의 범위가 조금씩 다를 수 있음
4. Server Provision Tools
    - 물리 환경에 가상화된 서버 그 자체를 생성하기 위한 도구
    - Terraform, CloudFormation, Openstack Heat 등
    - CSP에 따라 독자적인 서비스 리소스를 생성할 수도 있음
        - AWS의 경우 RDS 인스턴스나 VPC 환경 구축 등

### 코드형 인프라의 장점

- 빠른 배포 주기
- 안정성
    - 자동화를 통해 human error 최소화
- 문서화
    - 인프라의 직접 확인 불필요
- 버전 관리
    - 변경 사항 추적 및 복구 가능
- 확인 및 검사
    - 코드 리뷰 및 테스트 가능
- 재사용성
    - 모듈화
- 운영 업무 최소화
